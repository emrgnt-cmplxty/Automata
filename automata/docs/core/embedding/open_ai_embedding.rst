OpenAIEmbedding
===============

``OpenAIEmbedding`` is a class that provides embeddings for symbols
using the OpenAI API. It supports different engines for generating
embeddings, and by default it uses the “text-embedding-ada-002” engine.
The main method in this class is ``build_embedding``, which returns a
numpy array representing the symbol’s embedding.

This class is closely related to
``automata.tests.conftest.mock_embedding``,
``automata.tests.unit.test_symbol_embedding.test_get_embedding``, and
``automata.core.symbol.base.SymbolEmbedding``.

Overview
--------

The ``OpenAIEmbedding`` class is responsible for providing embeddings
for symbols using the OpenAI API. It takes care of setting API key,
selecting an appropriate engine to generate embeddings, and providing
numpy arrays as representations of the symbol embeddings.

Related Symbols
---------------

-  ``automata.tests.conftest.mock_embedding``
-  ``automata.tests.unit.test_symbol_embedding.test_get_embedding``
-  ``automata.core.symbol.base.SymbolEmbedding``
-  ``automata.core.embedding.embedding_types.EmbeddingProvider``

Usage Example
-------------

Using the ``OpenAIEmbedding`` class to generate an embedding for a
symbol source code:

.. code:: python

   from automata.core.embedding.embedding_types import OpenAIEmbedding

   engine = "text-embedding-ada-002"
   openai_embedding = OpenAIEmbedding(engine=engine)

   symbol_source = "def hello_world():print('Hello, world!')"
   embedding = openai_embedding.build_embedding(symbol_source)

   print(embedding)

Limitations
-----------

OpenAIEmbedding relies on the OpenAI API which requires an API key to
use. Also, it uses the provided engines by the API, and therefore it
might be limited in terms of customization and other features specific
to the OpenAI API. The generated embeddings are based on the model and
the engine used, which may affect the quality of the embeddings.

Follow-up Questions:
--------------------

-  How can we extend or customize the ``OpenAIEmbedding`` class to
   support more engines or other customization options?
-  How do the embeddings generated by different engines compare in
   quality?
