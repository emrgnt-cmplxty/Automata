<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SymbolRank &mdash; Automata  documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/dark_mode_css/general.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/dark_mode_css/dark.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/dark_mode_js/default_dark.js"></script>
        <script src="../../../_static/dark_mode_js/theme_switcher.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="SymbolRankConfig" href="symbol_rank_config.html" />
    <link rel="prev" title="search" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            Automata
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../setup_guide.html">Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../embedding_guide.html">Creating Your Own Embeddings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../agent_guide.html">Agent Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../config/index.html">Config Classes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Core Classes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../handler_dict.html">HandlerDict</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../logging_config.html">LoggingConfig</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../root_dict.html">RootDict</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../agent/index.html">agent</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../base/index.html">base</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../code_handling/index.html">code_handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../context_providers/index.html">context_providers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../embedding/index.html">embedding</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">experimental</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="index.html">search</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">SymbolRank</a></li>
<li class="toctree-l4"><a class="reference internal" href="symbol_rank_config.html">SymbolRankConfig</a></li>
<li class="toctree-l4"><a class="reference internal" href="symbol_search.html">SymbolSearch</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../github_management/index.html">github_management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../llm/index.html">llm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../memory_store/index.html">memory_store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../navigation/index.html">navigation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../retrievers/index.html">retrievers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../singletons/index.html">singletons</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../symbol/index.html">symbol</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../symbol_embedding/index.html">symbol_embedding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tasks/index.html">tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/index.html">tools</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../tests/index.html">Test Classes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Automata</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Core Classes</a></li>
          <li class="breadcrumb-item"><a href="../index.html">experimental</a></li>
          <li class="breadcrumb-item"><a href="index.html">search</a></li>
      <li class="breadcrumb-item active">SymbolRank</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/core/experimental/search/symbol_rank.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="symbolrank">
<h1>SymbolRank<a class="headerlink" href="#symbolrank" title="Permalink to this headline"></a></h1>
<p>SymbolRank class applies the PageRank algorithm on a graph to rank
symbols such as methods and classes based on their semantic context and
structural relationships within a software.</p>
<p>Symbols are the classes, methods or other elements in a code corpus. A
SymbolGraph is constructed where each symbol forms a node and
dependencies between symbols form edges. This SymbolGraph maps
structural information from the codebase and helps explore symbol
dependencies, relationships and hierarchy.</p>
<p>Finally, a prepared similarity dictionary between symbols is used in
combination with the SymbolGraph to compute their SymbolRanks. This is
performed using an iterative computation analogous to Google’s PageRank
algorithm, considering symbols’ similarity scores and their connectivity
within the graph.</p>
<p>For this a SymbolRankConfig is required which provides the necessary
parameters for the computations.</p>
<section id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline"></a></h2>
<section id="init-self-graph-nx-digraph-config-symbolrankconfig-none">
<h3><code class="docutils literal notranslate"><span class="pre">__init__(self,</span> <span class="pre">graph:</span> <span class="pre">nx.DiGraph,</span> <span class="pre">config:</span> <span class="pre">SymbolRankConfig)</span> <span class="pre">-&gt;</span> <span class="pre">None:</span></code><a class="headerlink" href="#init-self-graph-nx-digraph-config-symbolrankconfig-none" title="Permalink to this headline"></a></h3>
<p>Initializes a SymbolRank instance with a given graph and a
SymbolRankConfig. If config is not provided, a default SymbolRankConfig
is initialized.</p>
</section>
<section id="get-ranks-self-query-to-symbol-similarity-optional-dict-symbol-float-none-initial-weights-optional-dict-symbol-float-none-dangling-optional-dict-symbol-float-none-list-tuple-symbol-float">
<h3><code class="docutils literal notranslate"><span class="pre">get_ranks(self,query_to_symbol_similarity:</span> <span class="pre">Optional[Dict[Symbol,</span> <span class="pre">float]]</span> <span class="pre">=</span> <span class="pre">None,initial_weights:</span> <span class="pre">Optional[Dict[Symbol,</span> <span class="pre">float]]</span> <span class="pre">=</span> <span class="pre">None,dangling:</span> <span class="pre">Optional[Dict[Symbol,</span> <span class="pre">float]]</span> <span class="pre">=</span> <span class="pre">None,)</span> <span class="pre">-&gt;</span> <span class="pre">List[Tuple[Symbol,</span> <span class="pre">float]]:</span></code><a class="headerlink" href="#get-ranks-self-query-to-symbol-similarity-optional-dict-symbol-float-none-initial-weights-optional-dict-symbol-float-none-dangling-optional-dict-symbol-float-none-list-tuple-symbol-float" title="Permalink to this headline"></a></h3>
<p>Calculate the SymbolRanks of each node in the graph.</p>
</section>
<section id="get-top-symbols-self-n-int-list-tuple-str-float">
<h3><code class="docutils literal notranslate"><span class="pre">get_top_symbols(self,</span> <span class="pre">n:</span> <span class="pre">int)</span> <span class="pre">-&gt;</span> <span class="pre">List[Tuple[str,</span> <span class="pre">float]]:</span></code><a class="headerlink" href="#get-top-symbols-self-n-int-list-tuple-str-float" title="Permalink to this headline"></a></h3>
<p>Get the top ‘n’ symbols as per their ranks. Returns a list of tuples,
where each tuple contains the dotpath of a symbol and its rank.</p>
</section>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">automata.core.symbol.base</span> <span class="kn">import</span> <span class="n">Symbol</span>
<span class="kn">from</span> <span class="nn">automata.core.experimental.search.rank</span> <span class="kn">import</span> <span class="n">SymbolRank</span><span class="p">,</span> <span class="n">SymbolRankConfig</span>
<span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>

<span class="c1"># create a graph</span>
<span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">()</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># initialize SymbolRankConfig and SymbolRank</span>
<span class="n">config</span> <span class="o">=</span> <span class="n">SymbolRankConfig</span><span class="p">()</span>
<span class="n">sr</span> <span class="o">=</span> <span class="n">SymbolRank</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>

<span class="c1"># retrieve SymbolRanks</span>
<span class="n">ranks</span> <span class="o">=</span> <span class="n">sr</span><span class="o">.</span><span class="n">get_ranks</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="related-modules">
<h2>Related Modules<a class="headerlink" href="#related-modules" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>automata.core.symbol.base.Symbol</p></li>
<li><p>automata.core.experimental.search.symbol_search.SymbolSearch</p></li>
<li><p>automata.core.tools.builders.symbol_search.SymbolSearchToolkitBuilder</p></li>
</ul>
</section>
<section id="limitations">
<h2>Limitations<a class="headerlink" href="#limitations" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>The SymbolRank class assumes that every node in the graph is a symbol
from an application’s corpus. Therefore, the graph should be prepared
accordingly.</p></li>
<li><p>SymbolRank uses an algorithm similar to the PageRank algorithm which
is iterative in nature. Hence, it may take significant time for large
graphs.</p></li>
<li><p>As the ranks depend on both the graph structure and symbol
similarity, inaccurate results can be returned when the graph is not
properly constructed or appropriate symbol similarity is not used.</p></li>
</ul>
</section>
<section id="follow-up-questions">
<h2>Follow-up Questions:<a class="headerlink" href="#follow-up-questions" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>What is default value of <code class="docutils literal notranslate"><span class="pre">SymbolRankConfig</span></code> if not provided while
initializing <code class="docutils literal notranslate"><span class="pre">SymbolRank</span></code>?</p></li>
<li><p>Are there any specific assumptions or requirements for the format or
structure of <code class="docutils literal notranslate"><span class="pre">Query_symbol_similarity</span></code> , <code class="docutils literal notranslate"><span class="pre">initial_weights</span></code> ,
<code class="docutils literal notranslate"><span class="pre">dangling</span></code>?</p></li>
<li><p>What is the depth up to which symbol dependencies are considered
while constructing the SymbolGraph?</p></li>
<li><p>How are the weights of the edges in the SymbolGraph determined?</p></li>
<li><p>How is the similarity between symbols computed?</p></li>
<li><p>What happens if the <code class="docutils literal notranslate"><span class="pre">get_ranks</span></code> method does not converge in
<code class="docutils literal notranslate"><span class="pre">max_iterations</span></code>? What approaches can be used to mitigate this?</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="search" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="symbol_rank_config.html" class="btn btn-neutral float-right" title="SymbolRankConfig" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, emrgnt-cmplxty.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>