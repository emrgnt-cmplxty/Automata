<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PyContextRetriever &mdash; Automata  documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/dark_mode_css/general.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/dark_mode_css/dark.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/dark_mode_js/default_dark.js"></script>
        <script src="../../../_static/dark_mode_js/theme_switcher.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="PyContextRetrieverConfig" href="py_context_retriever_config.html" />
    <link rel="prev" title="py" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            Automata
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../setup_guide.html">Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../embedding_guide.html">Creating Your Own Embeddings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../agent_guide.html">Agent Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../config/index.html">Config Classes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Core Classes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../handler_dict.html">HandlerDict</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../logging_config.html">LoggingConfig</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../root_dict.html">RootDict</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../agent/index.html">agent</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../base/index.html">base</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../code_handling/index.html">code_handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../context_providers/index.html">context_providers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../embedding/index.html">embedding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../experimental/index.html">experimental</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../github_management/index.html">github_management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../llm/index.html">llm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../memory_store/index.html">memory_store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../navigation/index.html">navigation</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">retrievers</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="index.html">py</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">PyContextRetriever</a></li>
<li class="toctree-l4"><a class="reference internal" href="py_context_retriever_config.html">PyContextRetrieverConfig</a></li>
<li class="toctree-l4"><a class="reference internal" href="context/index.html">context</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../singletons/index.html">singletons</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../symbol/index.html">symbol</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../symbol_embedding/index.html">symbol_embedding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tasks/index.html">tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/index.html">tools</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../tests/index.html">Test Classes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Automata</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Core Classes</a></li>
          <li class="breadcrumb-item"><a href="../index.html">retrievers</a></li>
          <li class="breadcrumb-item"><a href="index.html">py</a></li>
      <li class="breadcrumb-item active">PyContextRetriever</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/core/retrievers/py/py_context_retriever.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="pycontextretriever">
<h1>PyContextRetriever<a class="headerlink" href="#pycontextretriever" title="Permalink to this headline"></a></h1>
<p><code class="docutils literal notranslate"><span class="pre">PyContextRetriever</span></code> is a class that retrieves the context of a symbol
from a Python project. It interacts with <code class="docutils literal notranslate"><span class="pre">SymbolGraph</span></code>,
<code class="docutils literal notranslate"><span class="pre">VectorDatabaseProvider</span></code>, and <code class="docutils literal notranslate"><span class="pre">tiktoken.Encoding</span></code> objects to manage
and manipulate this context.</p>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">PyContextRetriever</span></code> provides methods to manage indentation, process
import statements, docstrings, documentation, and methods for specific
symbols, and can reset its internal states to a default setting. The
context it retrieves for a particular symbol includes all related
symbols and dependencies, with a restriction on the maximum number of
each to process, specified in the config.</p>
</section>
<section id="related-symbols">
<h2>Related Symbols<a class="headerlink" href="#related-symbols" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">automata.core.base.database.vector.VectorDatabaseProvider</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">automata.core.code_handling.py.reader.PyReader</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">automata.core.symbol.base.Symbol</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">automata.core.symbol.graph.SymbolGraph</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">automata.core.symbol.symbol_utils.convert_to_fst_object</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">automata.core.symbol.symbol_utils.get_rankable_symbols</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">automata.core.utils.get_root_py_fpath</span></code></p></li>
</ul>
</section>
<section id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline"></a></h2>
<p>The following is an example demonstrating how to use
<code class="docutils literal notranslate"><span class="pre">PyContextRetriever</span></code> to retrieve the context of a symbol from a Python
project.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">automata.core.retrievers.py.context</span> <span class="kn">import</span> <span class="n">PyContextRetriever</span>
<span class="kn">from</span> <span class="nn">automata.core.symbol.graph</span> <span class="kn">import</span> <span class="n">SymbolGraph</span>
<span class="kn">from</span> <span class="nn">automata.core.symbol.base</span> <span class="kn">import</span> <span class="n">Symbol</span>

<span class="n">graph</span> <span class="o">=</span> <span class="n">SymbolGraph</span><span class="p">(</span><span class="n">index_path</span><span class="o">=</span><span class="s2">&quot;my_index_path&quot;</span><span class="p">)</span>
<span class="n">symbol</span> <span class="o">=</span> <span class="n">Symbol</span><span class="o">.</span><span class="n">from_string</span><span class="p">(</span><span class="n">symbol_str</span><span class="o">=</span><span class="s2">&quot;my_symbol&quot;</span><span class="p">)</span>

<span class="n">context_retriever</span> <span class="o">=</span> <span class="n">PyContextRetriever</span><span class="p">(</span><span class="n">graph</span><span class="o">=</span><span class="n">graph</span><span class="p">)</span>
<span class="n">context_retriever</span><span class="o">.</span><span class="n">process_symbol</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="n">symbol</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="limitations">
<h2>Limitations<a class="headerlink" href="#limitations" title="Permalink to this headline"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">PyContextRetriever</span></code> is dependent on the <code class="docutils literal notranslate"><span class="pre">SymbolGraph</span></code> and the
<code class="docutils literal notranslate"><span class="pre">VectorDatabaseProvider</span></code> objects for many of its operations. This can
limit its usability in scenarios where these objects are not accessible
or not as comprehensive as required. Moreover, its comprehensive context
retrieval can be limited by the number of symbols specified in the
config.</p>
</section>
<section id="follow-up-questions">
<h2>Follow-up Questions:<a class="headerlink" href="#follow-up-questions" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Is it possible to modify the process of retrieving context as per
some user-defined guidelines?</p></li>
<li><p>How does the context retrieval fail in scenarios where the
<code class="docutils literal notranslate"><span class="pre">SymbolGraph</span></code> or <code class="docutils literal notranslate"><span class="pre">VectorDatabaseProvider</span></code> is not up to date?</p></li>
<li><p>How does <code class="docutils literal notranslate"><span class="pre">PyContextRetriever</span></code> decide which symbols are important
enough to fetch while trying not to exceed the maximum number
specified in the config?</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="py" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="py_context_retriever_config.html" class="btn btn-neutral float-right" title="PyContextRetrieverConfig" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, emrgnt-cmplxty.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>