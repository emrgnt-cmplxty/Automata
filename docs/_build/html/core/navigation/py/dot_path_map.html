<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DotPathMap &mdash; Automata  documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/dark_mode_css/general.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/dark_mode_css/dark.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/dark_mode_js/default_dark.js"></script>
        <script src="../../../_static/dark_mode_js/theme_switcher.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="retrievers" href="../../retrievers/index.html" />
    <link rel="prev" title="py" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            Automata
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../setup_guide.html">Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../embedding_guide.html">Creating Your Own Embeddings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../agent_guide.html">Agent Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../config/index.html">Config Classes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Core Classes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../handler_dict.html">HandlerDict</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../logging_config.html">LoggingConfig</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../root_dict.html">RootDict</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../agent/index.html">agent</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../base/index.html">base</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../code_handling/index.html">code_handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../context_providers/index.html">context_providers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../embedding/index.html">embedding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../experimental/index.html">experimental</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../github_management/index.html">github_management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../llm/index.html">llm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../memory_store/index.html">memory_store</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">navigation</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../directory.html">automata.core.navigation.directory.Directory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../directory_manager.html">DirectoryManager</a></li>
<li class="toctree-l3"><a class="reference internal" href="../file.html">File</a></li>
<li class="toctree-l3"><a class="reference internal" href="../node.html">Node</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">py</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">DotPathMap</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../retrievers/index.html">retrievers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../singletons/index.html">singletons</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../symbol/index.html">symbol</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../symbol_embedding/index.html">symbol_embedding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tasks/index.html">tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/index.html">tools</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../tests/index.html">Test Classes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Automata</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Core Classes</a></li>
          <li class="breadcrumb-item"><a href="../index.html">navigation</a></li>
          <li class="breadcrumb-item"><a href="index.html">py</a></li>
      <li class="breadcrumb-item active">DotPathMap</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/core/navigation/py/dot_path_map.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="dotpathmap">
<h1>DotPathMap<a class="headerlink" href="#dotpathmap" title="Permalink to this headline"></a></h1>
<p><code class="docutils literal notranslate"><span class="pre">DotPathMap</span></code> is a class that establishes a map between module
<em>dotpaths</em> and module <em>filepaths</em>. Dotpath is a representation of file
structure in dot notation, for example: <code class="docutils literal notranslate"><span class="pre">dir_1.dir_2.file</span></code>. This
mapping is useful in handling python modules, which often use dotpaths
for import operations, while the file system uses filepaths.</p>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">DotPathMap</span></code> class is initialized with a path and a prefix. The
path is the absolute root of the module tree, and the prefix is added to
the dotpath of each module. Using these, it constructs a
<code class="docutils literal notranslate"><span class="pre">_module_dotpath_to_fpath_map</span></code>, which maps dotpaths to their
corresponding filepaths. A counterpart map,
<code class="docutils literal notranslate"><span class="pre">_module_fpath_to_dotpath_map</span></code>, maps filepaths back to their dotpaths.</p>
</section>
<section id="related-symbols">
<h2>Related Symbols<a class="headerlink" href="#related-symbols" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">automata.core.singletons.py_module_loader.PyModuleLoader</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">automata.tests.unit.test_directory_manager.test_get_node_for_path</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">automata.tests.unit.test_database_vector.test_lookup_symbol</span></code></p></li>
</ul>
</section>
<section id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">automata.core.navigation.py.dot_path_map</span> <span class="kn">import</span> <span class="n">DotPathMap</span>

<span class="c1"># Initialize a new DotPathMap</span>
<span class="n">dpm</span> <span class="o">=</span> <span class="n">DotPathMap</span><span class="p">(</span><span class="s1">&#39;/path/to/your/module/root&#39;</span><span class="p">,</span> <span class="s1">&#39;prefix&#39;</span><span class="p">)</span>

<span class="c1"># Check if a dotpath is in the map</span>
<span class="n">contains_dotpath</span> <span class="o">=</span> <span class="n">dpm</span><span class="o">.</span><span class="n">contains_dotpath</span><span class="p">(</span><span class="s1">&#39;prefix.module_subpath&#39;</span><span class="p">)</span>

<span class="c1"># Check if a filepath is in the map</span>
<span class="n">contains_fpath</span> <span class="o">=</span> <span class="n">dpm</span><span class="o">.</span><span class="n">contains_fpath</span><span class="p">(</span><span class="s1">&#39;/path/to/your/module/root/module_subpath.py&#39;</span><span class="p">)</span>

<span class="c1"># Get the module dotpath given its filepath</span>
<span class="n">module_dotpath</span> <span class="o">=</span> <span class="n">dpm</span><span class="o">.</span><span class="n">get_module_dotpath_by_fpath</span><span class="p">(</span><span class="s1">&#39;/path/to/your/module/root/module_subpath.py&#39;</span><span class="p">)</span>

<span class="c1"># Get the filepath given module dotpath</span>
<span class="n">module_fpath</span> <span class="o">=</span> <span class="n">dpm</span><span class="o">.</span><span class="n">get_module_fpath_by_dotpath</span><span class="p">(</span><span class="s1">&#39;prefix.module_subpath&#39;</span><span class="p">)</span>

<span class="c1"># Add a new module to the map</span>
<span class="n">dpm</span><span class="o">.</span><span class="n">put_module</span><span class="p">(</span><span class="s1">&#39;prefix.new_module&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="discussions">
<h2>Discussions<a class="headerlink" href="#discussions" title="Permalink to this headline"></a></h2>
<section id="limitations">
<h3>Limitations<a class="headerlink" href="#limitations" title="Permalink to this headline"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">DotPathMap</span></code> has been designed to track and manage modules within
a directory structure, mapping dotpaths to filepaths and vice versa.
However, the class does not support any structural or naming changes to
the existing modules in the directory after the map is created. In such
cases, an exception may be raised or incorrect filepaths may be
returned. Furthermore, when adding a new module to the map with
<code class="docutils literal notranslate"><span class="pre">put_module</span></code>, it assumes that the dotpath does not already exist in
the map and raises an exception if it does.</p>
</section>
<section id="other-uses">
<h3>Other uses<a class="headerlink" href="#other-uses" title="Permalink to this headline"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">DotPathMap</span></code> is a fairly generic class that might be useful in other
contexts where the mapping between a dot-separated path representation
and a file system path is needed.</p>
</section>
</section>
<section id="follow-up-questions">
<h2>Follow-up Questions:<a class="headerlink" href="#follow-up-questions" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>What happens if I attempt to add a module using a dotpath that
already exists in the directory structure?</p></li>
<li><p>What is the behaviour if I manually add a module to the directory and
then attempt to retrieve its dotpath or filepath from the
<code class="docutils literal notranslate"><span class="pre">DotPathMap</span></code>?</p></li>
<li><p>What is the expected behaviour if the module files or structure
changes post the initialization of the <code class="docutils literal notranslate"><span class="pre">DotPathMap</span></code> object? Does it
dynamically update or does it require re-initializing?</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="py" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../retrievers/index.html" class="btn btn-neutral float-right" title="retrievers" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, emrgnt-cmplxty.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>